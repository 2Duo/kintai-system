<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>勤怠打刻</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <div style="text-align: right;">
            <a href="{{ url_for('logout') }}">ログアウト</a>
        </div>
        <h1>勤怠打刻</h1>
        <p>ようこそ、{{ user_name }} さん</p>
        <form action="/punch" method="post">
            <label for="timestamp">時刻を入力：</label>
            <input type="datetime-local" name="timestamp" id="timestamp" required><br>
            <label for="description">本日の業務内容：</label><br>
            <textarea name="description" rows="4" cols="40" placeholder="例：出荷対応、在庫確認、会議参加など"></textarea><br>
            <button type="submit" name="type" value="in">出勤</button>
            <button type="submit" name="type" value="out">退勤</button>
        </form>
    </div>

    <script>
        const now = new Date();
        now.setMinutes(now.getMinutes() - now.getTimezoneOffset()); // ローカルタイム調整
        document.getElementById('timestamp').value = now.toISOString().slice(0,16);
    </script>
</body>
</html>
